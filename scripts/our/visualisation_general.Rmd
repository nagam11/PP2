---
title: "Optimizing Vector sizes"
author: "Michaela MÃ¼ller"
date: "29 November 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(ggplot2)
library(data.table)
library(cowplot)
```

## Read data
```{r}
mean_stats_dt <- fread("../../results/mean_stats_data_table.tsv")
mean_stats_dt
```

## Boxplots

```{r}
auc <- ggplot(mean_stats_dt, aes(factor(vector_size), AUC, col = validation)) +
  geom_boxplot() + 
  scale_y_continuous(limits = c(0,1)) +
  scale_color_brewer(palette = "Set1") +
  labs(x = "vector size")

acc <- ggplot(mean_stats_dt, aes(factor(vector_size), Accuracy, col = validation)) +
  geom_boxplot() + 
  scale_y_continuous(limits = c(0,1)) +
  scale_color_brewer(palette = "Set1") +
  labs(x = "vector size")

prec <- ggplot(mean_stats_dt, aes(factor(vector_size), Precision, col = validation)) +
  geom_boxplot() + 
  scale_y_continuous(limits = c(0,1)) +
  scale_color_brewer(palette = "Set1") +
  labs(x = "vector size")

rec <- ggplot(mean_stats_dt, aes(factor(vector_size), Recall, col = validation)) +
  geom_boxplot() + 
  scale_y_continuous(limits = c(0,1)) +
  scale_color_brewer(palette = "Set1") +
  labs(x = "vector size")

p <- plot_grid(auc, acc, prec, rec)
title <- ggdraw() + draw_label("Comparison of Different Vector Sizes", fontface='bold')
plot_grid(title, p, ncol=1, rel_heights=c(0.1, 1))
```

## Line Plots
```{r}
stats_lf <- melt(mean_stats_dt, id.vars = c("vector_size", "outer_split", "validation"),
                 measure.vars = c("AUC", "Accuracy", "Precision", "Recall"), variable.name = "metric")
summary <- stats_lf[, .(mean = mean(value), median = median(value), sd = sd(value)), by = c("vector_size", "metric", "validation")]

ggplot(summary, aes(vector_size, median, col = validation)) +
  geom_point() + geom_line() +
  geom_errorbar(aes())
  scale_y_continuous(limits = c(0,1)) +
  scale_color_brewer(palette = "Set1") +
  labs(x = "vector size") +
  facet_wrap(~metric)

```
